# Unicode and UTF8

## Unicode

- Unicode是一个字符集 _(character set)_ ，地位与GBK/GB2312相同
- 为每个字符提供独一无二的编码
- 32bit每个字符

## UTF8

- UTF8是一种字符编码 _(character encoding)_ ，其他的如UTF16/UTF32
- UTF8提供了所有的Unicode字符集中的字符的编码

### 原理

- （因为英文字母使用的比较多，）传输/存储等时候，全部使用Unicode规定的码点 _(code point)_ 来表示比较浪费
- 所以规定8bit为一个单元进行存储（utf8中的8的来源，utf16/utf32以此类推，特别的，utf32就是使用Unicode进行存储）

1. 每个字符的存储都是由整数个存储单元进行存储的
1. 每个字符的第一个存储单元由n个1，一个0开头，表示该字符共有n个存储单元存储，剩余的(8 - n - 1)位用于存储
1. 若n > 1，则除第一个存储单元之外，其他的存储单元均由10开头，剩余的6位用于存储
1. 综合以上
    1. 只有一个存储单元的时候，能保存7位 _能存储所有的英文字符_
    1. 有n（n > 2）个存储单元组成的字符，能用于存储数据的位数为 8 - n - 1 + (n - 1) * (6) = 5n + 1
1. 另外，常用中文字符需要3个存储单元完成存储，非常用的需要4个

